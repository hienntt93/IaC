#!/usr/bin/env python2.7

import os, sys
import requests
from bs4 import BeautifulSoup

url = sys.argv[1]
directory = sys.argv[2]

r = requests.get(url)
soup = BeautifulSoup(r.text, 'html.parser')

# iterate over each script tag and use the src attribute data to download the file to a directory within our current root
for script in soup.find_all('script'):
    if script.get('src'): download_script(script.get('src'))

#  a function that takes the src attribute path, builds the link to the resource, and downloads it into the directory have been specified
def download_script(uri):
    address = url + uri if uri[0] == '/' else uri
    filename = address[address.frind("/")+1:address.rfind("js")+2]
    req = requests.get(url)
    with open(directory + '/' + filename, 'wb') as file:
        file.write(req.content)
#  uses the [begin:end] list-slicing syntax to create a new string from just the specified indices.



